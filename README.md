Ниже — полностью готовый фрагмент, который можно просто вставить вместо старого блока «INPUT: TO-BE-O RATES …» в вашем скрипте.
	•	Ставки для клиентов О (УЧК) взяты из вашей таблицы 17 .80 % … 13 .80 % и заведены в долях (0.1780 … 0.1380).
	•	Δ(O-R) — тот же набор 0 .50 % … 0 .70 % (тоже в долях).
	•	Я оставил один единственный набор ставок X – потому что вы написали, что он «един для каждого сценария».
	•	Если позже понадобится ещё один набор – просто продублируйте строки, сменив set_cd, например, на Y.
	•	Новый Anchor – 26 июля 2025 г. (последний факт в балансе).
	•	Если у вас изменилась и конечная дата прогноза – поправьте переменную @HorizonTo аналогично.

/*----------------------------------------------------------------------  
  ПАРАМЕТРЫ ВЫЧИСЛЕНИЯ  
----------------------------------------------------------------------*/
DECLARE @Anchor    date = '2025-07-26',    -- последний факт
        @HorizonTo date = '2025-12-31';    -- конец прогноза

/*----------------------------------------------------------------------  
  INPUT:  TO-BE-O RATES  (набор X)  + Δ(O-R) по каждому сроку  
----------------------------------------------------------------------*/
IF OBJECT_ID('tempdb..#to_be_O') IS NOT NULL DROP TABLE #to_be_O;
IF OBJECT_ID('tempdb..#delta_R') IS NOT NULL DROP TABLE #delta_R;
IF OBJECT_ID('tempdb..#cases'  ) IS NOT NULL DROP TABLE #cases;

/* один набор – одна строка (ставка O-клиента в долях) */
CREATE TABLE #to_be_O
( set_cd   char(1),         -- X  (можно добавить A/B, если понадобится)
  term_nom int,             -- 61, 91, 122, …
  o_rate   decimal(9,4) );  -- 17 % = 0.1700

/* ----- набор X : УЧК ставки 17.80 % … 13.80 % ----- */
INSERT #to_be_O VALUES
('X',  61 ,0.1780), ('X',  91 ,0.1780), ('X', 122 ,0.1720),
('X', 181 ,0.1660), ('X', 274 ,0.1600), ('X', 365 ,0.1560),
('X', 548 ,0.1450), ('X', 730 ,0.1430), ('X',1100 ,0.1380);

/* Δ(O-R) — одинаков для всех наборов */
CREATE TABLE #delta_R
( term_nom int PRIMARY KEY,
  delta_ro decimal(9,4) );

INSERT #delta_R VALUES
( 61 ,0.0050), ( 91 ,0.0040), (122 ,0.0060),
(181 ,0.0040), (274 ,0.0040), (365 ,0.0020),
(548 ,0.0070), (730 ,0.0070), (1100,0.0070);

/* кейсы: <сценарий><набор> — 1X и 2X */
CREATE TABLE #cases
( case_cd varchar(5) PRIMARY KEY,
  scen    tinyint,   -- 1 или 2
  set_cd  char(1) ); -- всегда X в текущей конфигурации

INSERT #cases VALUES
('1X',1,'X'),
('2X',2,'X');

Куда вставлять
	1.	В вашем большом скрипте найдите старый блок:

/*----------------------------------------------------------------------  
  INPUT:  TO-BE-O RATES  (два набора — A и B)  + Δ(O-R) …  
----------------------------------------------------------------------*/

	2.	Замените целиком на код выше (от «ПАРАМЕТРЫ ВЫЧИСЛЕНИЯ» до окончания вставок в #cases).
	3.	Никакие другие части скрипта менять не нужно:
	•	Блок 2.3, который строит #ref, уже использует поля set_cd и delta_ro – всё подхватится автоматически.
	•	Все проценты задания в долях (0 .1780, а не 17 .80) – скрипт ниже работает в тех же единицах, так что дополнительных делений / умножений не требуется.

После замены выполните весь скрипт – в таблице WORK.Forecast_BalanceDaily_cases появятся результаты для кейсов 1X и 2X, рассчитанные на новом прогнозном ключе и с новыми спредами.
